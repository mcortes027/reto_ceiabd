name: ci

on: 
  pull_request:
    branches: [ main ]
  schedule:
    - cron: '0 0 * * *'
  push:
    branches:
    - main
jobs:
  build:
    runs-on: self-hosted
    steps:
    - uses: actions/checkout@v2

    - name: docker build scrapper image
      run: |
        sudo docker build -t mcortes027/ceiabda_scrapper:latest ./work/reto_ceiabd/src/scrapper/Dockerfile
    - name: docker build web_app image
      run: |
        sudo docker build -t-t mcortes027/ceiabda_gui:latest ./work/reto_ceiabd/src/web_app/Dockerfile  
    - name: docker build runner image
      run: |
        sudo docker build -t mcortes027/ceiabda_runner:latest ./work/reto_ceiabd/despliegues/git-runner/Dockerfile  
